@startuml
' ===================================================================
' C4 Context Diagram for Ecommerce Whitelabel Platform
' ===================================================================
' Level 1: System Context - Shows the system as a black box
' ===================================================================

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!include https://raw.githubusercontent.com/tx3-lang/tx3-ecommerce-template/main/docs/architecture/c4-styles.puml

' Title
title Context Diagram - Ecommerce Whitelabel Platform

' Persons
CUSTOMER(customer, "Customer")
ADMIN(admin, "Administrator")

' Systems (using shared definitions from c4-styles.puml)
ECOMMERCE(ecommerce_system, "Ecommerce Whitelabel Platform")
SUPABASE(supabase_system, "Supabase")
CARDANO(cardano_system, "Cardano Network")
WALLETS(wallet_system, "Wallet Providers")
VERCEL(vercel_system, "Vercel")

' Relationships (using shared definitions from c4-styles.puml)
USES_HTTPS(customer, ecommerce_system, "Browse & purchase products")
MANAGES(admin, supabase_system, "Manage products & orders")
STORES_DATA(ecommerce_system, supabase_system, "Supabase Client")
PROCESS_PAYMENT(ecommerce_system, cardano_system, "Cardano CIP-30")
CONNECT_WALLET(ecommerce_system, wallet_system, "CIP-30")
DEPLOYED_ON(ecommerce_system, vercel_system, "Hosted on", "Edge Functions")
ACCESS_DATA(admin, vercel_system, "Deploy & monitor", "Dashboard")

' System boundary grouping for better visual organization
System_Boundary(infrastructure_boundary, "Cloud Infrastructure") {
  SUPABASE(supabase_system, "Supabase")
  VERCEL(vercel_system, "Vercel")
}

System_Boundary(blockchain_boundary, "Blockchain Ecosystem") {
  CARDANO(cardano_system, "Cardano Network")
  WALLETS(wallet_system, "Wallet Providers")
}

' Legend
SHOW_LEGEND()

@enduml