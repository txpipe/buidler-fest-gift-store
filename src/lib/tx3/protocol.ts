// This file is auto-generated by trix bindgen.

import { type ArgValue, type ClientOptions, type ResolveResponse, type SubmitParams, TRPClient } from 'tx3-sdk/trp';

export const DEFAULT_TRP_ENDPOINT = 'https://cardano-preview.trp-m1.demeter.run';

export const DEFAULT_HEADERS = {
	'dmtr-api-key': 'trp1ffyf88ugcyg6j6n3yuh',
};

export const DEFAULT_ENV_ARGS = {};

export type PayWithAdaParams = {
	buyer: ArgValue | string; // Address
	merchant: ArgValue | string; // Address
	quantity: ArgValue | bigint | number; // Int
};

export const PAY_WITH_ADA_IR = {
	content:
		'ab6466656573a1694576616c506172616d6a457870656374466565736a7265666572656e6365738066696e7075747381a3646e616d6566736f75726365657574786f73a1694576616c506172616da16b457870656374496e7075748266736f75726365a56761646472657373a1694576616c506172616da16b45787065637456616c75658265627579657267416464726573736a6d696e5f616d6f756e74a16b4576616c4275696c74496ea16341646482a16641737365747381a366706f6c696379644e6f6e656a61737365745f6e616d65644e6f6e6566616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a1694576616c506172616d6a4578706563744665657363726566644e6f6e65646d616e79f46a636f6c6c61746572616cf46872656465656d6572644e6f6e65676f75747075747382a46761646472657373a1694576616c506172616da16b45787065637456616c756582686d65726368616e74674164647265737365646174756d644e6f6e6566616d6f756e74a16641737365747381a366706f6c696379644e6f6e656a61737365745f6e616d65644e6f6e6566616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74686f7074696f6e616cf4a46761646472657373a1694576616c506172616da16b45787065637456616c756582656275796572674164647265737365646174756d644e6f6e6566616d6f756e74a16b4576616c4275696c74496ea16353756282a16b4576616c4275696c74496ea16353756282a16a4576616c436f65726365a16a496e746f417373657473a1694576616c506172616da16b457870656374496e7075748266736f75726365a56761646472657373a1694576616c506172616da16b45787065637456616c75658265627579657267416464726573736a6d696e5f616d6f756e74a16b4576616c4275696c74496ea16341646482a16641737365747381a366706f6c696379644e6f6e656a61737365745f6e616d65644e6f6e6566616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a1694576616c506172616d6a4578706563744665657363726566644e6f6e65646d616e79f46a636f6c6c61746572616cf4a16641737365747381a366706f6c696379644e6f6e656a61737365745f6e616d65644e6f6e6566616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a1694576616c506172616d6a45787065637446656573686f7074696f6e616cf46876616c6964697479f6656d696e747380656275726e7380656164686f63806a636f6c6c61746572616c80677369676e657273a1677369676e65727381a1694576616c506172616da16b45787065637456616c756582686d65726368616e746741646472657373686d6574616461746180',
	encoding: 'hex',
	version: 'v1beta0',
};

export type PayWithTokensParams = {
	assetName: ArgValue | Uint8Array; // Bytes
	buyer: ArgValue | string; // Address
	merchant: ArgValue | string; // Address
	quantity: ArgValue | bigint | number; // Int
	tokenPolicy: ArgValue | Uint8Array; // Bytes
};

export const PAY_WITH_TOKENS_IR = {
	content:
		'ab6466656573a1694576616c506172616d6a457870656374466565736a7265666572656e6365738066696e7075747381a3646e616d6566736f75726365657574786f73a1694576616c506172616da16b457870656374496e7075748266736f75726365a56761646472657373a1694576616c506172616da16b45787065637456616c75658265627579657267416464726573736a6d696e5f616d6f756e74a16b4576616c4275696c74496ea16341646482a16b4576616c4275696c74496ea16341646482a1694576616c506172616d6a45787065637446656573a16641737365747381a366706f6c696379a1694576616c506172616da16b45787065637456616c7565826c746f6b656e5f706f6c6963796542797465736a61737365745f6e616d65a1694576616c506172616da16b45787065637456616c7565826a61737365745f6e616d6565427974657366616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a16c4576616c436f6d70696c6572a16e436f6d707574654d696e5574786fa1664e756d6265720063726566644e6f6e65646d616e79f56a636f6c6c61746572616cf46872656465656d6572644e6f6e65676f75747075747382a46761646472657373a1694576616c506172616da16b45787065637456616c756582686d65726368616e74674164647265737365646174756d644e6f6e6566616d6f756e74a16b4576616c4275696c74496ea16341646482a16641737365747381a366706f6c696379a1694576616c506172616da16b45787065637456616c7565826c746f6b656e5f706f6c6963796542797465736a61737365745f6e616d65a1694576616c506172616da16b45787065637456616c7565826a61737365745f6e616d6565427974657366616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a16c4576616c436f6d70696c6572a16e436f6d707574654d696e5574786fa1664e756d62657200686f7074696f6e616cf4a46761646472657373a1694576616c506172616da16b45787065637456616c756582656275796572674164647265737365646174756d644e6f6e6566616d6f756e74a16b4576616c4275696c74496ea16353756282a16b4576616c4275696c74496ea16353756282a16b4576616c4275696c74496ea16353756282a16a4576616c436f65726365a16a496e746f417373657473a1694576616c506172616da16b457870656374496e7075748266736f75726365a56761646472657373a1694576616c506172616da16b45787065637456616c75658265627579657267416464726573736a6d696e5f616d6f756e74a16b4576616c4275696c74496ea16341646482a16b4576616c4275696c74496ea16341646482a1694576616c506172616d6a45787065637446656573a16641737365747381a366706f6c696379a1694576616c506172616da16b45787065637456616c7565826c746f6b656e5f706f6c6963796542797465736a61737365745f6e616d65a1694576616c506172616da16b45787065637456616c7565826a61737365745f6e616d6565427974657366616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a16c4576616c436f6d70696c6572a16e436f6d707574654d696e5574786fa1664e756d6265720063726566644e6f6e65646d616e79f56a636f6c6c61746572616cf4a16641737365747381a366706f6c696379a1694576616c506172616da16b45787065637456616c7565826c746f6b656e5f706f6c6963796542797465736a61737365745f6e616d65a1694576616c506172616da16b45787065637456616c7565826a61737365745f6e616d6565427974657366616d6f756e74a1694576616c506172616da16b45787065637456616c756582687175616e7469747963496e74a1694576616c506172616d6a45787065637446656573a16c4576616c436f6d70696c6572a16e436f6d707574654d696e5574786fa1664e756d62657200686f7074696f6e616cf46876616c6964697479f6656d696e747380656275726e7380656164686f63806a636f6c6c61746572616c80677369676e657273a1677369676e65727381a1694576616c506172616da16b45787065637456616c756582686d65726368616e746741646472657373686d6574616461746180',
	encoding: 'hex',
	version: 'v1beta0',
};

export class Client {
	readonly #client: TRPClient;

	constructor(options: ClientOptions) {
		this.#client = new TRPClient(options);
	}

	async payWithAdaTx(args: PayWithAdaParams): Promise<ResolveResponse> {
		return await this.#client.resolve({
			tir: PAY_WITH_ADA_IR,
			args,
		});
	}

	async payWithTokensTx(args: PayWithTokensParams): Promise<ResolveResponse> {
		return await this.#client.resolve({
			tir: PAY_WITH_TOKENS_IR,
			args,
		});
	}

	async submit(params: SubmitParams): Promise<void> {
		await this.#client.submit(params);
	}
}

// Create a default client instance
export const protocol = new Client({
	endpoint: DEFAULT_TRP_ENDPOINT,
	headers: DEFAULT_HEADERS,
	envArgs: DEFAULT_ENV_ARGS,
});
